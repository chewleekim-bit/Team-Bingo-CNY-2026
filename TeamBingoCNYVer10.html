<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Team Bingo - CNY Edition</title>

<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  background: #f5f5f5;
  margin: 0;
}

h1 { margin: 12px 0; }

button {
  font-size: 18px;
  padding: 10px 18px;
  margin: 6px;
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

#timer {
  font-size: 32px;
  font-weight: bold;
  margin: 10px 0;
  color: #c62828;
}

/* Layout */
#gameArea {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 20px;
  padding: 12px;
}

#symbolsLeft {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(5, 1fr);
  gap: 12px;
  width: 28vw;
  max-width: 320px;
}

#symbolsRight {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(5, 1fr);
  gap: 12px;
  width: 20vw;
  max-width: 240px;
}

#board {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
  width: 42vw;
  max-width: 480px;
}

.cell {
  background: white;
  border: 2px solid #333;
  aspect-ratio: 1/1;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  cursor: pointer;
}

.symbol {
  width: 100%;
  height: 100%;
  object-fit: contain;
  cursor: pointer;
  border-radius: 14px;
  background: #4CAF50;
}

.symbol.selected {
  outline: 3px solid #ff9800;
}

@media (max-width: 1024px) {
  #gameArea {
    flex-direction: column;
    align-items: center;
  }

  #symbolsLeft,
  #symbolsRight {
    grid-template-columns: repeat(5, 1fr);
    width: 95vw;
    max-width: 700px;
  }

  #board {
    width: 95vw;
    max-width: 700px;
  }
}
</style>
</head>

<body>

<h1>ðŸ§§ Team Bingo â€“ CNY Edition ðŸ§§</h1>

<div id="timer">05:00</div>

<div>
  <button id="startBtn" onclick="startGame()">Start</button>
  <button id="confirmBtn" onclick="confirmBoard()">Confirm</button>
  <button id="resetBtn" onclick="resetGame()">Reset</button>
</div>

<div id="gameArea">
  <div id="symbolsLeft"></div>
  <div id="board"></div>
  <div id="symbolsRight"></div>
</div>

<script>

var images = [
"images/01.jpg","images/02.png","images/03.jpg","images/04.jpg","images/05.png",
"images/06.jpg","images/07.png","images/08.jpg","images/09.jpg","images/10.jpg",
"images/11.jpg","images/12.jpg","images/13.png","images/14.jpg","images/15.jpg",
"images/16.jpg","images/17.png","images/18.jpg","images/19.jpg","images/20.jpg",
"images/21.jpg","images/22.png","images/23.jpg","images/24.jpg","images/25.jpg"
];

var locked = false;
var selectedSymbol = null;
var timerInterval = null;
var timeRemaining = 300;

function startGame() {
  locked = false;
  selectedSymbol = null;

  document.getElementById("startBtn").disabled = true;
  document.getElementById("confirmBtn").disabled = false;
  document.getElementById("resetBtn").disabled = false;

  createBoard();
  createSymbols(shuffle(images.slice()));
  startTimer();
}

function startTimer() {
  clearInterval(timerInterval);
  timeRemaining = 300;
  updateTimerDisplay();

  timerInterval = setInterval(function() {
    timeRemaining--;
    updateTimerDisplay();

    if (timeRemaining <= 0) {
      clearInterval(timerInterval);
      autoConfirm();
    }
  }, 1000);
}

function updateTimerDisplay() {
  var minutes = ("0" + Math.floor(timeRemaining / 60)).slice(-2);
  var seconds = ("0" + (timeRemaining % 60)).slice(-2);
  document.getElementById("timer").innerHTML = minutes + ":" + seconds;
}

function autoConfirm() {
  if (!locked) {
    locked = true;
    disableAllButtons();
    alert("â° Time's up! Board automatically confirmed!");
  }
}

function createBoard() {
  var board = document.getElementById("board");
  board.innerHTML = "";

  for (var i = 0; i < 25; i++) {
    var cell = document.createElement("div");
    cell.className = "cell";

    cell.onclick = function() {

      if (!selectedSymbol || locked) return;

      // Move existing symbol in this cell back to side
      if (this.firstChild) {
        returnSymbolToSide(this.firstChild);
      }

      // Remove selected symbol from previous cell if needed
      if (selectedSymbol.parentNode &&
          selectedSymbol.parentNode.className === "cell") {
        selectedSymbol.parentNode.removeChild(selectedSymbol);
      }

      // Place selected symbol here
      this.appendChild(selectedSymbol);
      selectedSymbol.className = "symbol";
      selectedSymbol = null;
    };

    board.appendChild(cell);
  }
}

function createSymbols(list) {
  var left = document.getElementById("symbolsLeft");
  var right = document.getElementById("symbolsRight");

  left.innerHTML = "";
  right.innerHTML = "";

  for (var i = 0; i < list.length; i++) {
    var img = document.createElement("img");
    img.src = list[i];
    img.className = "symbol";

    img.onclick = function() {
      if (locked) return;

      if (selectedSymbol) {
        selectedSymbol.className = "symbol";
      }

      selectedSymbol = this;
      this.className = "symbol selected";
    };

    if (i < 15) left.appendChild(img);
    else right.appendChild(img);
  }
}

function returnSymbolToSide(img) {
  var left = document.getElementById("symbolsLeft");
  var right = document.getElementById("symbolsRight");

  if (left.children.length <= right.children.length) {
    left.appendChild(img);
  } else {
    right.appendChild(img);
  }
}

function confirmBoard() {
  if (!locked) {
    locked = true;
    disableAllButtons();
    clearInterval(timerInterval);
    alert("Board confirmed! ðŸŽ‰");
  }
}

function resetGame() {
  clearInterval(timerInterval);

  document.getElementById("timer").innerHTML = "05:00";
  document.getElementById("board").innerHTML = "";
  document.getElementById("symbolsLeft").innerHTML = "";
  document.getElementById("symbolsRight").innerHTML = "";

  locked = false;
  selectedSymbol = null;

  document.getElementById("startBtn").disabled = false;
  document.getElementById("confirmBtn").disabled = false;
  document.getElementById("resetBtn").disabled = false;
}

function disableAllButtons() {
  document.getElementById("startBtn").disabled = true;
  document.getElementById("confirmBtn").disabled = true;
  document.getElementById("resetBtn").disabled = true;
}

function shuffle(arr) {
  for (var i = arr.length - 1; i > 0; i--) {
    var j = Math.floor(Math.random() * (i + 1));
    var temp = arr[i];
    arr[i] = arr[j];
    arr[j] = temp;
  }
  return arr;
}

</script>

</body>
</html>
